<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Flags (netchannel.Netchannel.Flags)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">netchannel</a> &#x00BB; <a href="../index.html">Netchannel</a> &#x00BB; Flags</nav><header class="odoc-preamble"><h1>Module <code><span>Netchannel.Flags</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>A set of flags.</p></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">Sexplib0</span>.Sexpable.S <span class="keyword">with</span> <span><span class="keyword">type</span> <span class="xref-unresolved">t</span> := <span class="xref-unresolved">t</span></span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-t_of_sexp" class="anchored"><a href="#val-t_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> t_of_sexp : <span><span class="xref-unresolved">Sexplib0__</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_t" class="anchored"><a href="#val-sexp_of_t" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_t : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0__</span>.Sexp.t</span></code></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-empty" class="anchored"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-checksum_blank" class="anchored"><a href="#val-checksum_blank" class="anchor"></a><code><span><span class="keyword">val</span> checksum_blank : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Indicates that this is a TCP or UDP packet with an incomplete checksum. The separate IPv4 header checksum must always be calculated by the frontend. If you set this flag for other types of packet (e.g. ARP requests), then Linux will silently drop them.</p><p>&quot;You need to set the checksum to the psuedo-header checksum rather than 0 since that is what csum_blank means (such a well named flag!)&quot;</p><p>&quot;If NETTXF_csum_blank is set (implying NETTXF_data_validated must also be set) then the UDP checksum must be set to cover the UDP pseudo-header since the SKB will be marked CSUM_PARTIAL and thus any h/w driver it is presented to will expect the pseudo-header checksum to be valid. If the SKB is presented to another guest then CSUM_PARTIAL will translated into NETRXF_csum_blank|NETRXF_data_validated and the frontend is at liberty to present it up the stack as being checksum-valid without anything in the datapath having had to walk over the payload to actually calculate the value of that checksum.&quot;</p><p>Information collected from this thread: http://lists.xenproject.org/archives/html/xen-devel/2011-03/msg01901.html</p></div></div><div class="odoc-spec"><div class="spec value" id="val-data_validated" class="anchored"><a href="#val-data_validated" class="anchor"></a><code><span><span class="keyword">val</span> data_validated : <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-more_data" class="anchored"><a href="#val-more_data" class="anchor"></a><code><span><span class="keyword">val</span> more_data : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>This request does not contain the entire frame. The following request provides more data. Linux allows a frame to have up to XEN_NETIF_NR_SLOTS_MIN=18 extra fragments. Note: Linux assumes that all fragments are added to the ring at once.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-extra_info" class="anchored"><a href="#val-extra_info" class="anchor"></a><code><span><span class="keyword">val</span> extra_info : <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-of_int" class="anchored"><a href="#val-of_int" class="anchor"></a><code><span><span class="keyword">val</span> of_int : <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-to_int" class="anchored"><a href="#val-to_int" class="anchor"></a><code><span><span class="keyword">val</span> to_int : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(++)" class="anchored"><a href="#val-(++)" class="anchor"></a><code><span><span class="keyword">val</span> (++) : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>a ++ b</code> is the union of the sets.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(--)" class="anchored"><a href="#val-(--)" class="anchor"></a><code><span><span class="keyword">val</span> (--) : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>a -- b</code> is the set of flags in <code>a</code> but not in <code>b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mem" class="anchored"><a href="#val-mem" class="anchor"></a><code><span><span class="keyword">val</span> mem : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>mem x flags</code> is <code>true</code> iff <code>x</code> is a subset of <code>flags</code>.</p></div></div></div></body></html>